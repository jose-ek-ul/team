(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9002)}])},3114:function(e,n){"use strict";n.Z="https://ulmxteam.azurewebsites.net/api"},3014:function(e,n,t){"use strict";t.d(n,{Z:function(){return ChipsArray}});var r=t(5893),s=t(7294),i=t(948),l=t(7918),a=t(629);let o=(0,i.ZP)("li")(e=>{let{theme:n}=e;return{margin:n.spacing(.5)}});function ChipsArray(e){let{chips:n,handleDelete:t}=e;return void 0===n||0==n.length?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0,width:"46ch"},component:"ul",children:s.Children.toArray(n.map((e,n)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o,{children:(0,r.jsx)(l.Z,{label:e,onDelete:void 0===t?void 0:()=>t(e)})})})))})}},9002:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return pages}});var r=t(5893),s=t(7294),i=t(6886),l=t(1233),a=t(7357),o=t(5861),c=t(5582),d=t(6242),h=t(2023),u=t(4267),x=t(3965),j=t(3321),p=t(657),Z=t(1425),m=t(6580),f=t(8951),g=t(7645),y=t(8462),C=t(7212),w=t(8619),b=t(8885),v=t(9334),k=t(891),A=t(3769),P=t(9661),_=t(4788),N=t(6111),L=t(3014),S=t(948),E=t(7918),D=t(629),R=t(1163),T=t(3205);let B=(0,S.ZP)("li")(e=>{let{theme:n}=e;return{margin:n.spacing(.5)}});function AddButton(){let e=(0,R.useRouter)(),onRedirect=()=>{e.push({pathname:"/edit"},"/edit")};return(0,r.jsx)(D.Z,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0,width:"46ch"},component:"ul",children:(0,r.jsx)(B,{onClick:onRedirect,children:(0,r.jsx)(E.Z,{label:"Add",onDelete:onRedirect,deleteIcon:(0,r.jsx)(T.Z,{})})})})}function AlertDialog(e){let n=void 0===e.user.hobbies||0==e.user.hobbies.length;return(0,r.jsx)("div",{children:(0,r.jsxs)(p.Z,{open:e.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsx)(g.Z,{children:(0,r.jsx)(C.ZP,{children:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(P.Z,{alt:"Remy Sharp",src:e.user.imageProfile})}),(0,r.jsx)(v.Z,{primary:e.user.firstName+" "+e.user.lastName})]})})}),(0,r.jsx)(m.Z,{dividers:!0,children:(0,r.jsx)(f.Z,{children:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(C.ZP,{children:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(k.Z,{})}),(0,r.jsx)(v.Z,{primary:e.user.email})]})}),(0,r.jsx)(C.ZP,{children:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(_.Z,{})}),(0,r.jsx)(v.Z,{primary:e.user.jobPosition})]})}),(0,r.jsx)(C.ZP,{children:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(A.Z,{})}),(0,r.jsx)(v.Z,{primary:e.user.city,secondary:e.user.state})]})}),(0,r.jsx)(C.ZP,{children:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(N.Z,{})}),n?(0,r.jsx)(AddButton,{}):(0,r.jsx)(L.Z,{chips:e.user.hobbies})]})})]})})}),(0,r.jsx)(Z.Z,{children:(0,r.jsx)(j.Z,{onClick:e.handleClick,children:"Close"})})]})})}var F=t(5885);function SingleCard(e){let n=new F.Z,t=n.get("id"),l=(0,R.useRouter)(),[a,c]=s.useState(!1),p=e.id==t,handleClick=()=>{c(!a)};return(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,r.jsxs)(d.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,r.jsx)(x.Z,{component:"div",sx:{pt:"56.25%"},image:e.imageProfile}),(0,r.jsx)(u.Z,{sx:{flexGrow:1},children:(0,r.jsxs)(o.Z,{gutterBottom:!0,variant:"h5",component:"h2",sx:{textTransform:"capitalize"},children:[e.firstName," ",e.lastName]})}),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(j.Z,{onClick:handleClick,size:"small",children:"View"}),p?(0,r.jsx)(j.Z,{onClick:()=>{l.push({pathname:"/edit",query:{id:e.id}},"/edit")},size:"small",children:"Edit"}):(0,r.jsx)(r.Fragment,{})]}),(0,r.jsx)(AlertDialog,{open:a,handleClick:handleClick,user:e})]})},e.id)}var W=t(3114),z=t(8767),O=t(1903),U=t(7109),I=t(2761);function Album(){let e=new F.Z,n=(0,R.useRouter)(),[t,d]=(0,s.useState)([]),h={mode:"cors",headers:{Authorization:"Bearer ".concat(e.get("access_token")),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}},fetchUsers=async()=>{let t=await fetch("".concat(W.Z,"/User/All"),h);if(200==t.status)return t.json();throw 401==t.status&&(e.remove("id",{path:"/"}),e.remove("access_token",{path:"/"}),e.remove("image",{path:"/"}),n.push("/signin")),Error("".concat(t.status))},{isLoading:u,isError:x,data:j,error:p}=(0,z.useQuery)("users",fetchUsers,{refetchOnWindowFocus:!1,onSuccess:d});if(p)return n.push("/error"),(0,r.jsx)(r.Fragment,{});if(u)return(0,r.jsx)("span",{children:"Loading..."});let onType=e=>{""==e?d(j||[]):(e=e.toLowerCase(),d(t.filter(n=>n.firstName.toLowerCase().includes(e)||n.lastName.toLowerCase().includes(e)||n.city.toLowerCase().includes(e)||n.state.toLowerCase().includes(e)||n.jobPosition.toLowerCase().includes(e)||n.hobbies.toString().toLowerCase().includes(e))))};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("main",{children:[(0,r.jsx)(a.Z,{sx:{bgcolor:"background.paper",pt:2,pb:2},children:(0,r.jsxs)(c.Z,{maxWidth:"sm",children:[(0,r.jsx)(o.Z,{component:"h1",variant:"h4",align:"center",color:"text.primary",gutterBottom:!0,children:"UL MEX TEAM"}),(0,r.jsxs)(o.Z,{variant:"h6",align:"center",color:"text.secondary",paragraph:!0,children:["It is great to do what you love, ",(0,r.jsx)("br",{})," but greater with the great team. ~ Lailah Gifty Akita"]}),(0,r.jsx)(l.Z,{sx:{pt:0},direction:"row",spacing:2,justifyContent:"center"}),(0,r.jsx)(O.Z,{fullWidth:!0,id:"outlined-basic",label:"Search",variant:"outlined",type:"search",onChange:e=>onType(e.target.value),onKeyDown:e=>{("Backspace"===e.key||"Delete"===e.key)&&d(j||[])},InputProps:{endAdornment:(0,r.jsx)(U.Z,{position:"end",children:(0,r.jsx)(I.Z,{})})}})]})}),(0,r.jsx)(c.Z,{sx:{py:0},maxWidth:"md",children:(0,r.jsx)(i.ZP,{container:!0,spacing:4,children:s.Children.toArray(null==t?void 0:t.map(e=>(0,r.jsx)(SingleCard,{...e})))})})]})})}var pages=function(){return(0,r.jsx)(Album,{})}}},function(e){e.O(0,[977,903,902,918,744,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);